var Ae=Object.defineProperty;var Ne=(a,t,e)=>t in a?Ae(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var K=(a,t,e)=>Ne(a,typeof t!="symbol"?t+"":t,e);import"../chunks/CWj6FrbW.js";import{i as Ce}from"../chunks/CNptTR14.js";import{s as D,o as He,e as P}from"../chunks/Cl2vaJSZ.js";import{a1 as Re,b as De,s as se,h as N,S as $e,a as Be,w as s,ad as le,r as Oe,c as Le,d as fe,e as ne,i as q,T as Ve,X as ze,f as _e,g as ge,p as Fe,ae as re,$ as me,M as oe,af as Xe,ag as A,ah as ue,O as Ye,ai as qe,aj as Ge,_ as Ue,ak as Je,al as Ke,am as Pe,an as Qe,V as We,B as X,C as ie,m as F,F as k,I as w,G as x,A as Ze,D as et,ao as tt,k as at,ap as M}from"../chunks/BHqwzvGV.js";import{i as de}from"../chunks/BJT2j-bI.js";function st(a,t){return t}function nt(a,t,e,n){for(var r=[],i=t.length,v=0;v<i;v++)Ge(t[v].e,r,!0);var u=i>0&&r.length===0&&e!==null;if(u){var o=e.parentNode;Ue(o),o.append(e),n.clear(),B(a,t[0].prev,t[i-1].next)}Je(r,()=>{for(var g=0;g<i;g++){var l=t[g];u||(n.delete(l.k),B(a,l.prev,l.next)),Ke(l.e,!u)}})}function rt(a,t,e,n,r,i=null){var v=a,u={flags:t,items:new Map,first:null};{var o=a;v=N?se($e(o)):o.appendChild(Re())}N&&Be();var g=null,l=!1,_=le(()=>{var c=e();return Ye(c)?c:c==null?[]:me(c)});De(()=>{var c=s(_),d=c.length;if(l&&d===0)return;l=d===0;let f=!1;if(N){var T=Oe(v)===Le;T!==(d===0)&&(v=fe(),se(v),ne(!1),f=!0)}if(N){for(var y=null,p,m=0;m<d;m++){if(q.nodeType===Ve&&q.data===ze){v=q,f=!0,ne(!1);break}var $=c[m],C=n($,m);p=we(q,u,y,null,$,C,m,r,t,e),u.items.set(C,p),y=p}d>0&&se(fe())}N||lt(c,u,v,r,t,n,e),i!==null&&(d===0?g?_e(g):g=ge(()=>i(v)):g!==null&&Fe(g,()=>{g=null})),f&&ne(!0),s(_)}),N&&(v=q)}function lt(a,t,e,n,r,i,v){var u=a.length,o=t.items,g=t.first,l=g,_,c=null,d=[],f=[],T,y,p,m;for(m=0;m<u;m+=1){if(T=a[m],y=i(T,m),p=o.get(y),p===void 0){var $=l?l.e.nodes_start:e;c=we($,t,c,c===null?t.first:c.next,T,y,m,n,r,v),o.set(y,c),d=[],f=[],l=c.next;continue}if(it(p,T,m),(p.e.f&re)!==0&&_e(p.e),p!==l){if(_!==void 0&&_.has(p)){if(d.length<f.length){var C=f[0],S;c=C.prev;var U=d[0],O=d[d.length-1];for(S=0;S<d.length;S+=1)pe(d[S],C,e);for(S=0;S<f.length;S+=1)_.delete(f[S]);B(t,U.prev,O.next),B(t,c,U),B(t,O,C),l=C,c=O,m-=1,d=[],f=[]}else _.delete(p),pe(p,l,e),B(t,p.prev,p.next),B(t,p,c===null?t.first:c.next),B(t,c,p),c=p;continue}for(d=[],f=[];l!==null&&l.k!==y;)(l.e.f&re)===0&&(_??(_=new Set)).add(l),f.push(l),l=l.next;if(l===null)continue;p=l}d.push(p),c=p,l=p.next}if(l!==null||_!==void 0){for(var L=_===void 0?[]:me(_);l!==null;)(l.e.f&re)===0&&L.push(l),l=l.next;var Q=L.length;if(Q>0){var Y=u===0?e:null;nt(t,L,Y,o)}}oe.first=t.first&&t.first.e,oe.last=c&&c.e}function it(a,t,e,n){Xe(a.v,t),a.i=e}function we(a,t,e,n,r,i,v,u,o,g){var l=(o&Pe)!==0,_=(o&Qe)===0,c=l?_?A(r,!1,!1):ue(r):r,d=(o&qe)===0?v:ue(v),f={i:d,v:c,k:i,a:null,e:null,prev:e,next:n};try{return f.e=ge(()=>u(a,c,d,g),N),f.e.prev=e&&e.e,f.e.next=n&&n.e,e===null?t.first=f:(e.next=f,e.e.next=f.e),n!==null&&(n.prev=f,n.e.prev=f.e),f}finally{}}function pe(a,t,e){for(var n=a.next?a.next.e.nodes_start:e,r=t?t.e.nodes_start:e,i=a.e.nodes_start;i!==n;){var v=We(i);r.before(i),i=v}}function B(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function vt(a,t,e){var n=""+a;return n}function ct(a,t){return a==null?null:String(a)}function G(a,t,e,n,r,i){var v=a.__className;if(N||v!==e||v===void 0){var u=vt(e);(!N||u!==a.getAttribute("class"))&&(u==null?a.removeAttribute("class"):a.className=u),a.__className=e}return i}function ft(a,t,e,n){var r=a.__style;if(N||r!==t){var i=ct(t);(!N||i!==a.getAttribute("style"))&&(i==null?a.removeAttribute("style"):a.style.cssText=i),a.__style=t}return n}const ot=`0,0
0.052,5.045
0.096,9.91
0.196,24.144
0.251,31.351
0.287,32.973
0.3,29.91
0.344,17.117
0.37,14.414
0.4,12.973
0.5,11.712
0.6,11.171
0.7,10.631
0.8,10.09
0.9,9.73
1,9.55
1.101,9.91
1.2,9.55
1.3,9.73
1.4,9.73
1.5,9.73
1.6,9.73
1.7,9.55
1.8,9.73
1.9,9.73
2,9.55
2.1,9.55
2.2,9.73
2.3,9.19
2.375,9.37
2.4,5.95
2.44,0`;class xe{constructor(t){K(this,"points");K(this,"impulse");K(this,"time");this.csv=t;const e=t.split(`
`).map(r=>r.split(",").map(Number)).map(r=>({t:r[0],n:r[1]}));let n=0;for(const r in e){if(+r+1>=e.length)break;const i=e[+r],v=e[+r+1],u=.5*(i.n+v.n)*(v.t-i.t);n+=u}this.points=e,this.impulse=n,this.time=e[e.length-1].t}thrust(t){let e,n;for(const u in this.points){const o=this.points[u];if(o.t<=t&&(e=o),o.t>t){n=o;break}}if(e===void 0||n===void 0)return 0;const r=n.n-e.n,i=n.t-e.t,v=r/i;return e.n+v*(t-e.t)}}const ut=new xe(ot);var dt=X("<stick-view-container><stick-container><end-cap></end-cap> <main-stick></main-stick> <end-cap></end-cap></stick-container> <p> </p></stick-view-container>",2);function he(a,t){var e=dt();G(e,1,"svelte-x8gwye");var n=k(e);G(n,1,"svelte-x8gwye");var r=k(n);G(r,1,"svelte-x8gwye");var i=w(r,2);G(i,1,"svelte-x8gwye");var v=w(i,2);G(v,1,"svelte-x8gwye"),x(n);var u=w(n,2),o=k(u);x(u),x(e),ie(()=>{ft(i,`height: ${t.length??""}px;`),D(o,`${t.length??""} cm`)}),F(a,e)}var pt=X('<p class="svelte-1je0fxw"> </p>'),ht=X('<button class="svelte-1je0fxw">E12 Curve</button> <input type="file" accept=".csv" class="svelte-1je0fxw"/>',1),_t=X('<button class="svelte-1je0fxw">Start</button>'),gt=X('<button class="svelte-1je0fxw">Toggle Thrust</button>'),mt=X('<main class="svelte-1je0fxw"><img src="flame.svg" alt="flame" id="flame" style="display: none;" class="svelte-1je0fxw"/> <div class="hstack svelte-1je0fxw"><img src="rocket.svg" alt="rocket" id="rocket" class="svelte-1je0fxw"/> <!></div> <div class="hstack a-end svelte-1je0fxw"><canvas id="canvas" width="162" height="2131" class="svelte-1je0fxw"></canvas> <!></div> <div class="info svelte-1je0fxw"><p class="svelte-1je0fxw"> </p> <p class="svelte-1je0fxw"> </p> <p class="svelte-1je0fxw"> </p> <p class="svelte-1je0fxw"> </p> <hr class="svelte-1je0fxw"/> <p class="svelte-1je0fxw"> </p> <p class="svelte-1je0fxw"> </p> <p class="svelte-1je0fxw"> </p> <hr class="svelte-1je0fxw"/> <p class="svelte-1je0fxw">1 px = 1 cm</p></div> <div class="info svelte-1je0fxw"></div> <!></main>');function Tt(a,t){Ze(t,!1),He(()=>{window.scrollTo(0,document.body.scrollHeight)});let e=A(),n=A(!1),r=A(0),i=0,v,u=A(0),o=A(0),g=A(0);const l=.8;let _=A(20),c=0,d=A(0),f=A(-9.81),T=A([{n:0,t:0}]),y=A(!1);function p(){M(n,!0);let b=document.getElementById("canvas"),I=b.getContext("2d"),j=document.getElementById("rocket"),H=document.getElementById("flame");i=performance.now()/1e3;const E=(s(e).impulse+l*s(f)*s(e).time)/-(l*s(f)),V=setInterval(()=>{var J;M(r,s(r)+1);const R=performance.now()/1e3-i;M(o,R-s(u)),M(u,R),M(g,s(g)*((s(r)-1)/s(r))+s(o)/s(r)),!s(y)&&R>=E&&M(y,!0),s(y)&&!v&&(v=R);let z=s(y)?s(e).thrust(R-v):0;z!=((J=s(T)[s(T).length-1])==null?void 0:J.n)&&(M(T,[...s(T),{n:z,t:R}]),window.scrollTo(0,document.body.scrollHeight)),z<=0&&s(T).length>1&&clearInterval(V),M(f,(l*-9.81+z)/l),M(d,c+s(f)*s(o)),M(_,s(_)+(c*s(o)+.5*s(f)*s(o)*s(o))),c=s(d),s(_)<0&&clearInterval(V),I.clearRect(0,0,b.width,b.height),I.drawImage(j,50,-s(_)*100+2e3),z>0&&I.drawImage(H,78,-s(_)*100+2e3+131-11)},4)}Ce();var m=mt(),$=w(k(m),2),C=w(k($),2);he(C,{length:131}),x($);var S=w($,2),U=w(k(S),2);he(U,{length:2e3}),x(S);var O=w(S,2),L=k(O),Q=k(L);x(L);var Y=w(L,2),ye=k(Y);x(Y);var W=w(Y,2),ke=k(W);x(W);var Z=w(W,2),be=k(Z);x(Z);var ee=w(Z,4),Ee=k(ee);x(ee);var te=w(ee,2),Te=k(te);x(te);var ve=w(te,2),Ie=k(ve);x(ve),tt(4),x(O);var ae=w(O,2);rt(ae,5,()=>s(T),st,(b,I)=>{var j=pt(),H=k(j);x(j),ie((h,E)=>D(H,`${h??""} s - ${E??""} N`),[()=>[String(Math.round(s(I).t*1e3)/1e3)].map(h=>h.includes(".")?h:h+".")[0].padEnd(5,"0"),()=>[String(Math.round(s(I).n*100)/100)].map(h=>h.includes(".")?h:h+".")[0].padEnd(5,"0")],le),F(b,j)}),x(ae);var Me=w(ae,2);{var Se=b=>{var I=ht(),j=at(I),H=w(j,2);P("click",j,()=>{M(e,ut)}),P("change",H,h=>{var V;const E=(V=h.target.files)==null?void 0:V[0];if(E){const R=new FileReader;R.onload=z=>{var ce;const J=(ce=z.target)==null?void 0:ce.result;M(e,new xe(J))},R.readAsText(E)}}),F(b,I)},je=(b,I)=>{{var j=h=>{var E=_t();P("click",E,p),F(h,E)},H=h=>{var E=gt();P("click",E,()=>{M(y,!s(y))}),F(h,E)};de(b,h=>{s(n)?h(H,!1):h(j)},I)}};de(Me,b=>{s(e)==null?b(Se):b(je,!1)})}x(m),ie((b,I,j,H,h,E,V)=>{D(Q,`cycle = ${b??""}`),D(ye,`t = ${I??""} s`),D(ke,`f = ${j??""} Hz`),D(be,`fÌ… = ${H??""} Hz`),D(Ee,`s = ${h??""} m`),D(Te,`v = ${E??""} ms^-1`),D(Ie,`a = ${V??""} ms^-2`)},[()=>String(s(r)).padStart(3,"0"),()=>String(Math.round(s(u)*1e3)/1e3).padEnd(5,"0"),()=>Math.round(1/s(o)),()=>Math.round(1/s(g)),()=>String(Math.round(s(_)*100)/100).padEnd(4,"0").padStart(5,"+"),()=>(s(d)>0?"+":"-"+String(Math.round(Math.abs(s(d))*100)/100)).padEnd(5,"0"),()=>String(Math.round(s(f)*100)/100).padEnd(4,"0").padStart(5,"+")],le),F(a,m),et()}export{Tt as component};
